{% extends "apostrophe-templates:layout.html" %}
{% import 'macros/eventCard.html' as eventCard with context %}

{% block beforeMain %}
  <div class="soyp-header soyp-header--events">
    <div class="soyp-background">
      <div class="soyp-background-image events" style="background-image: url(/images/love-park.jpg)" alt="" />
      <div class="soyp-overlay bg-black"></div>
      <div class="soyp-overlay bg-blue"></div>

      <div class="soyp-marquee-event-heading">
        <div class="soyp-column-4">
          <a href="/">
            <div class="soyp-logo soyp-logo--events" style='background-image: url("/images/state-of-young-philly-2016.png")'></div>
          </a>
        </div>{#
      #}<div class="soyp-column-8">
          <div class="soyp-marquee-event-heading-container">
            <div class="soyp-heading soyp-event-heading">
              Events
            </div>
            <div class="soyp-intro-text">October 11-20, 2018</div>
          </div>
        </div>
      </div>

      <div class="soyp-marquee-event-widget">
        {{ apos.singleton(data.page, 'homeEvent', 'soyp-events', { limit: 2 } ) }}
      </div>
    </div>
  </div>
{% endblock %}

{% block main %}
    <div class="soyp-inner">
      <div class="soyp-grid soyp-grid--gutter">
        <div class="soyp-event-grid">
        <div class="soyp-event-grid-day-heading soyp-heading-sub">Thursday, October 11</div>
        {% for event in data.pieces %}
          {% if event.startDate | date("dddd, MMMM DD") == "Thursday, October 11" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Friday, October 12</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Friday, October 12" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Saturday, October 13</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Saturday, October 13" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Sunday, October 14</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Sunday, October 14" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Monday, October 15</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Monday, October 15" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Tuesday, October 16</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Tuesday, October 16" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Wednesday, October 17</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Wednesday, October 17" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Thursday, October 18</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Thursday, October 18" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Friday, October 19</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Friday, October 19" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}

          <div class="soyp-event-grid-day-heading soyp-heading-sub">Saturday, October 20</div>
          {% for event in data.pieces %}
            {% if event.startDate | date("dddd, MMMM DD") == "Saturday, October 20" %}
              {{ eventCard.base(event) }}
            {% endif %}
          {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}
